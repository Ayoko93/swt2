<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" th:href="@{/css/style_index.css}">
  <link rel="stylesheet" type="text/css" th:href="@{/css/style_holiday-detail.css}">
  <title>FAK Reiseportal</title>
</head>
<body>
  <header th:replace="fragments/header :: header"/>
    <div id="centerdesign">
      <aside th:replace="fragments/aside :: aside"/>
      <main id="hauptinhalt">
        <h2 th:text="${offer.hotel.name}"/>
        <div class="row">
          <p class="place"><b th:text="@{${offer.hotel.country} + ' - ' + ${offer.hotel.city}}"/></p>
          <p><b>Bewertung:</b> &starf;&starf;&starf;&starf;&star;</p>
        </div>
        <img width="100%" th:src="${offer.hotel.imagePath}" alt="Bild vom Hotel" />
        <h3>Beschreibung</h3>
        <p th:text="${offer.hotel.description}"/>
        <div class="hotel-details row">
          <p><b>Zeitraum:</b><span th:text="@{${#dates.format(offer.startDate, 'dd.MM.yyyy')} + ' - ' + ${#dates.format(offer.endDate, 'dd.MM.yyyy')}}"/></p>
          <p><b>Verpflegung:</b><span th:text="${offer.priceModel}"/></p>
          <p><b>Reiseveranstalter:</b><span th:text="${offer.travelAgency}"/></p>
          <p><b>Preis:</b><span th:text="@{${offer.totalPrice} + ' ' + ${offer.currency}}"/></p>
        </div>
        <form th:unless="${offer.isBooked()}" method="POST" action="/book">
          <input type="text" name="offer" th:value="${offer.id}" hidden>
          <input class="buchen-button" type="submit" name="buchen" value="Kostenpflichtig buchen">
        </form>
        <div class="comments">
          <h3>Kommentare</h3>
          <div class="rating-card" th:each="rating : ${offer.hotel.ratings}">
            <span class="rating-value" th:if="${rating.rating} == 1">&starf;&star;&star;&star;&star;</span>
            <span class="rating-value" th:if="${rating.rating} == 2">&starf;&starf;&star;&star;&star;</span>
            <span class="rating-value" th:if="${rating.rating} == 3">&starf;&starf;&starf;&star;&star;</span>
            <span class="rating-value" th:if="${rating.rating} == 4">&starf;&starf;&starf;&starf;&star;</span>
            <span class="rating-value" th:if="${rating.rating} == 5">&starf;&starf;&starf;&starf;&starf;</span>
            <p class="rating-author" th:text="@{'Autor: ' + ${rating.author.firstName} + ' ' + ${rating.author.lastName}}"/>
            <p class="rating-text" th:text="${rating.comment}"/>
          </div>
        </div>
      </main>
    <footer th:replace="fragments/footer :: footer"/>
  </div>
</body>
</html>